<%- include('../includes/main.ejs') %>

    <main>
        <% if(products.length > 0) { %>
            <div class="grid">
                <% products.forEach(p => { %>
                    <article class="card product-item">
                        <header class="card-header">
                          <h2 class="product-title"><%= p.name %></h2>
                        </header>
                        <div class="card-img">
                          <img
                            
                            src="<%= p.imgUrl %>"
                            alt="<%= p.name %>" 
                          />
                        </div>
                        <div class="card-content">
                          <h2 class="product-price">Rs. <%= p.price %>/-</h2>
                          <p class="product-desc"><%= p.desc %></p>
                        </div>
                        <div class="card-action">
                          <div class="btn-grp">
                            <form action="/delete-cart-item" method="POST">
                                <input type="hidden" name="productId" value="<%= p.id%>">
                                <button class="btn" type="submit">
                                    Remove from cart
                                </button>
                            </form>
                            <button class="btn">Quantity = <%= p.cartItem.quantity %></button>
                          </div>
                        </div>
                      </article>
                      <% }) %>
                    </div>
                    <form action="/create-order" method="POST">
                      <button class="btn" type="submit">Order Now !</button>
                    </form>
        <% } else { %>
            <h1 style="text-align: center;">Nothing in the cart! ☹️</h1>
        <% } %>
    </main>
</body>
</html>

<!-- p.productData.name -->
<!-- p.name  -> sequelize -->